<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Monte Carlo LYSO: src/construction.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Monte Carlo LYSO
   </div>
   <div id="projectbrief">Geant4 simulation for the LYSO calorimeter prototype</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">construction.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="construction_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="construction_8hh.html">construction.hh</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno"><a class="line" href="classMyDetectorConstruction.html#a01ab5593d40d2ede193b80f0b0bfb53a">    7</a></span>&#160;<a class="code" href="classMyDetectorConstruction.html#a01ab5593d40d2ede193b80f0b0bfb53a">MyDetectorConstruction::MyDetectorConstruction</a>()</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;{</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a95730385382338f8b597bfe4557f9c82">DefineCommands</a>();</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <span class="comment">// Default settings</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#abfe848b1d7a8a356084293800e3c1089">fIsOpticalGreaseSurface</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a3094c77e904dee181282672e7f479a97">nLightGuideMat</a> = 1;    </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#ad674f8d5180381a8f88e11acf6448e45">fIsPCB</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a77d62da2df546628e107ceb170b1aa05">fIsEndcap</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#af43415f80d1d5630c08698e5df9713ff">fIsASiPM</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#afeed30b7a91229fc6d6e9c962c3de76e">DefineMaterials</a>();</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;}</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="classMyDetectorConstruction.html#afeed30b7a91229fc6d6e9c962c3de76e">   25</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMyDetectorConstruction.html#afeed30b7a91229fc6d6e9c962c3de76e">MyDetectorConstruction::DefineMaterials</a>()</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;{</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="comment">//Entries for LYSO properties</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> nEntries = 3;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    G4NistManager *nist = G4NistManager::Instance();</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="comment">//*******************************************************************//</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="comment">//**********************       MATERIALS       **********************//</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="comment">//*******************************************************************//</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="comment">// LYSO</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a2ffcca9ad32b1d6e3d11e8ee8e5264c7">fLYSO</a> = <span class="keyword">new</span> G4Material(<span class="stringliteral">&quot;LYSO&quot;</span>, 7.25*g/cm3, 5, kStateSolid);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a2ffcca9ad32b1d6e3d11e8ee8e5264c7">fLYSO</a>-&gt;AddElement(nist-&gt;FindOrBuildElement(<span class="stringliteral">&quot;Lu&quot;</span>), 73.8579*perCent);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a2ffcca9ad32b1d6e3d11e8ee8e5264c7">fLYSO</a>-&gt;AddElement(nist-&gt;FindOrBuildElement(<span class="stringliteral">&quot;Y&quot;</span>), 1.9747*perCent);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a2ffcca9ad32b1d6e3d11e8ee8e5264c7">fLYSO</a>-&gt;AddElement(nist-&gt;FindOrBuildElement(<span class="stringliteral">&quot;Si&quot;</span>), 6.2418*perCent);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a2ffcca9ad32b1d6e3d11e8ee8e5264c7">fLYSO</a>-&gt;AddElement(nist-&gt;FindOrBuildElement(<span class="stringliteral">&quot;O&quot;</span>), 17.77*perCent);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a2ffcca9ad32b1d6e3d11e8ee8e5264c7">fLYSO</a>-&gt;AddElement(nist-&gt;FindOrBuildElement(<span class="stringliteral">&quot;Ce&quot;</span>), 0.1556*perCent);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    G4MaterialPropertiesTable *mptLYSO = <span class="keyword">new</span> G4MaterialPropertiesTable();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    G4double Energies[nEntries] = {2.97*eV, 3*eV, 3.56*eV};</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    G4double LYSO_RINDEX[nEntries] = {1.82, 1.82, 1.82};</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    G4double LYSO_ABSLENGTH[nEntries] = {50.*cm, 50.*cm, 50.*cm};</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    G4double LYSO_SCINTILLATIONCOMPONENT1[nEntries] = {0.1, 1, 0.1};</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    mptLYSO-&gt;AddProperty(<span class="stringliteral">&quot;SCINTILLATIONCOMPONENT1&quot;</span>, Energies, LYSO_SCINTILLATIONCOMPONENT1, nEntries);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    mptLYSO-&gt;AddProperty(<span class="stringliteral">&quot;RINDEX&quot;</span>, Energies, LYSO_RINDEX, nEntries);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    mptLYSO-&gt;AddProperty(<span class="stringliteral">&quot;ABSLENGTH&quot;</span>, Energies, LYSO_ABSLENGTH, nEntries);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    mptLYSO-&gt;AddConstProperty(<span class="stringliteral">&quot;SCINTILLATIONYIELD&quot;</span>, 29000./MeV);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    mptLYSO-&gt;AddConstProperty(<span class="stringliteral">&quot;RESOLUTIONSCALE&quot;</span>, 1.0);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    mptLYSO-&gt;AddConstProperty(<span class="stringliteral">&quot;SCINTILLATIONTIMECONSTANT1&quot;</span>, 42.*ns);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    mptLYSO-&gt;AddConstProperty(<span class="stringliteral">&quot;SCINTILLATIONYIELD1&quot;</span>, 1.);  </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a2ffcca9ad32b1d6e3d11e8ee8e5264c7">fLYSO</a>-&gt;SetMaterialPropertiesTable(mptLYSO);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// AIR</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a36fc8a7b3d0ede648a6716f96a9dae6a">fAir</a> = nist-&gt;FindOrBuildMaterial(<span class="stringliteral">&quot;G4_AIR&quot;</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    G4MaterialPropertiesTable *mptAir = <span class="keyword">new</span> G4MaterialPropertiesTable();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    G4double AIR_RINDEX[nEntries] = {1.000293, 1.000293, 1.000293};</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    mptAir-&gt;AddProperty(<span class="stringliteral">&quot;RINDEX&quot;</span>, Energies, AIR_RINDEX, nEntries);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a36fc8a7b3d0ede648a6716f96a9dae6a">fAir</a>-&gt;SetMaterialPropertiesTable(mptAir);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// VACUUM</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a799f6c592028183c3f9947e64706b610">fVacuum</a> = nist-&gt;FindOrBuildMaterial(<span class="stringliteral">&quot;G4_Galactic&quot;</span>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    G4MaterialPropertiesTable *mptVacuum = <span class="keyword">new</span> G4MaterialPropertiesTable();</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    G4double VACUUM_RINDEX[nEntries] = {1., 1., 1.};</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    mptVacuum-&gt;AddProperty(<span class="stringliteral">&quot;RINDEX&quot;</span>, Energies, VACUUM_RINDEX, nEntries);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a799f6c592028183c3f9947e64706b610">fVacuum</a>-&gt;SetMaterialPropertiesTable(mptVacuum);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">// ALUMINIUM</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#aa1f23a2e5df31f9813b33d6836e97fe8">fAluminium</a> = nist-&gt;FindOrBuildMaterial(<span class="stringliteral">&quot;G4_Al&quot;</span>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// SILICON</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#ac083250bf0489c8e9f0a12fadd4601e8">fSilicon</a> = nist-&gt;FindOrBuildMaterial(<span class="stringliteral">&quot;G4_Si&quot;</span>);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    G4MaterialPropertiesTable *mptDetector = <span class="keyword">new</span> G4MaterialPropertiesTable();</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    G4double DETECTOR_RINDEX[nEntries] = {1.55, 1.55, 1.55}; <span class="comment">//should be 3.88, but it is included in the PDE, so it&#39;s fixed at the same value of the window (Total transmission)</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    mptDetector-&gt;AddProperty(<span class="stringliteral">&quot;RINDEX&quot;</span>, Energies, DETECTOR_RINDEX, nEntries);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#ac083250bf0489c8e9f0a12fadd4601e8">fSilicon</a>-&gt;SetMaterialPropertiesTable(mptDetector);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// EPOXY</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a45c55069890a2471f0084d177a7324d5">fEpoxy</a> = <span class="keyword">new</span> G4Material(<span class="stringliteral">&quot;Epoxy&quot;</span>, 1.2*g/cm3, 2);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a45c55069890a2471f0084d177a7324d5">fEpoxy</a>-&gt;AddElement(nist-&gt;FindOrBuildElement(<span class="stringliteral">&quot;C&quot;</span>), 2);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a45c55069890a2471f0084d177a7324d5">fEpoxy</a>-&gt;AddElement(nist-&gt;FindOrBuildElement(<span class="stringliteral">&quot;H&quot;</span>), 2);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    G4MaterialPropertiesTable *mptEpoxy = <span class="keyword">new</span> G4MaterialPropertiesTable();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    G4double EPOXY_RINDEX[nEntries] = {1.55, 1.55, 1.55};</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    mptEpoxy-&gt;AddProperty(<span class="stringliteral">&quot;RINDEX&quot;</span>, Energies, EPOXY_RINDEX, nEntries);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a45c55069890a2471f0084d177a7324d5">fEpoxy</a>-&gt;SetMaterialPropertiesTable(mptEpoxy);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// FR4</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a664c36ff0df6c5bd722cbc0964fff291">fFR4</a> = <span class="keyword">new</span> G4Material(<span class="stringliteral">&quot;FR4&quot;</span>, 1.85*g/cm3, 2);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a664c36ff0df6c5bd722cbc0964fff291">fFR4</a>-&gt;AddMaterial(nist-&gt;FindOrBuildMaterial(<span class="stringliteral">&quot;G4_SILICON_DIOXIDE&quot;</span>), 52.8*perCent);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a664c36ff0df6c5bd722cbc0964fff291">fFR4</a>-&gt;AddMaterial(<a class="code" href="classMyDetectorConstruction.html#a45c55069890a2471f0084d177a7324d5">fEpoxy</a>, 47.2*perCent);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// CARBON FIBER</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#ac3b90c8a28d996a564b636dc4b6a3ecf">fCarbonFiber</a> = <span class="keyword">new</span> G4Material(<span class="stringliteral">&quot;Carbon Fiber&quot;</span>, 1.5*g/cm3, 1);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#ac3b90c8a28d996a564b636dc4b6a3ecf">fCarbonFiber</a>-&gt;AddElement(nist-&gt;FindOrBuildElement(<span class="stringliteral">&quot;C&quot;</span>), 1);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">// PLEXIGLASS</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a58ca80b7d3863e0b7c578010c46e3057">fPlexiglass</a> = nist-&gt;FindOrBuildMaterial(<span class="stringliteral">&quot;G4_PLEXIGLASS&quot;</span>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    G4MaterialPropertiesTable *mptPlexiglass = <span class="keyword">new</span> G4MaterialPropertiesTable();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    G4double PLEXIGLASS_RINDEX[nEntries] = {1.49, 1.49, 1.49};</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    mptPlexiglass-&gt;AddProperty(<span class="stringliteral">&quot;RINDEX&quot;</span>, Energies, PLEXIGLASS_RINDEX, nEntries);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a58ca80b7d3863e0b7c578010c46e3057">fPlexiglass</a>-&gt;SetMaterialPropertiesTable(mptPlexiglass);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// SAPPHIRE</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a4fed8c9af112b04f50fd483fea9bcd4b">fSapphire</a> = <span class="keyword">new</span> G4Material(<span class="stringliteral">&quot;Sapphire&quot;</span>, 3.98*g/cm3, 2, kStateSolid);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a4fed8c9af112b04f50fd483fea9bcd4b">fSapphire</a>-&gt;AddElement(nist-&gt;FindOrBuildElement(<span class="stringliteral">&quot;Al&quot;</span>), 2);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a4fed8c9af112b04f50fd483fea9bcd4b">fSapphire</a>-&gt;AddElement(nist-&gt;FindOrBuildElement(<span class="stringliteral">&quot;O&quot;</span>), 3);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    G4MaterialPropertiesTable *mptSapphire = <span class="keyword">new</span> G4MaterialPropertiesTable();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    G4double SAPPHIRE_RINDEX[nEntries] = {1.77, 1.77, 1.77};</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    mptSapphire-&gt;AddProperty(<span class="stringliteral">&quot;RINDEX&quot;</span>, Energies, SAPPHIRE_RINDEX, nEntries);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a4fed8c9af112b04f50fd483fea9bcd4b">fSapphire</a>-&gt;SetMaterialPropertiesTable(mptSapphire);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// OPTICAL GREASE</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a8296c605e4de3176afa6c9f52b5355f1">fGrease</a> = <span class="keyword">new</span> G4Material(<span class="stringliteral">&quot;OpticalGrease&quot;</span>, 1.06*g/cm3, 2);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a8296c605e4de3176afa6c9f52b5355f1">fGrease</a>-&gt;AddElement(nist-&gt;FindOrBuildElement(<span class="stringliteral">&quot;C&quot;</span>), 2);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a8296c605e4de3176afa6c9f52b5355f1">fGrease</a>-&gt;AddElement(nist-&gt;FindOrBuildElement(<span class="stringliteral">&quot;H&quot;</span>), 6);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    G4MaterialPropertiesTable *mptGrease = <span class="keyword">new</span> G4MaterialPropertiesTable();</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    G4double GREASE_RINDEX[nEntries] = {1.46, 1.46, 1.46};</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    mptGrease-&gt;AddProperty(<span class="stringliteral">&quot;RINDEX&quot;</span>, Energies, GREASE_RINDEX, nEntries);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a8296c605e4de3176afa6c9f52b5355f1">fGrease</a>-&gt;SetMaterialPropertiesTable(mptGrease);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// Optical Grease surface</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classMyDetectorConstruction.html#abfe848b1d7a8a356084293800e3c1089">fIsOpticalGreaseSurface</a>)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="classMyDetectorConstruction.html#ad8bb986a451802a7e305a7e9b3186025">fOpGreaseSurface</a> = <span class="keyword">new</span> G4OpticalSurface(<span class="stringliteral">&quot;GreaseSurface&quot;</span>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <a class="code" href="classMyDetectorConstruction.html#ad8bb986a451802a7e305a7e9b3186025">fOpGreaseSurface</a>-&gt;SetType(dielectric_dielectric);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <a class="code" href="classMyDetectorConstruction.html#ad8bb986a451802a7e305a7e9b3186025">fOpGreaseSurface</a>-&gt;SetModel(unified);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <a class="code" href="classMyDetectorConstruction.html#ad8bb986a451802a7e305a7e9b3186025">fOpGreaseSurface</a>-&gt;SetFinish(ground);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <a class="code" href="classMyDetectorConstruction.html#ad8bb986a451802a7e305a7e9b3186025">fOpGreaseSurface</a>-&gt;SetSigmaAlpha(0.1); <span class="comment">// Dummy value indicating the roughness, will be fixed according to experimental data (I hope...)</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="classMyDetectorConstruction.html#ac9ef5a036a6ef0c2090cbddd414c8c86">  159</a></span>&#160;G4VPhysicalVolume *<a class="code" href="classMyDetectorConstruction.html#ac9ef5a036a6ef0c2090cbddd414c8c86">MyDetectorConstruction::Construct</a>()</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;{</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// Construct the World</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    G4Box *solidWorld = <span class="keyword">new</span> G4Box(<span class="stringliteral">&quot;solidWorld&quot;</span>, <a class="code" href="namespaceGS.html#ae2d7aec90d69b87b08205c373e189fd7">GS::halfXsideWorld</a>, <a class="code" href="namespaceGS.html#a61a7dabea30a7665d7db6ce239918837">GS::halfYsideWorld</a>, <a class="code" href="namespaceGS.html#ab7cf8b62ed789ab67bac083680d6022a">GS::halfZsideWorld</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a> = <span class="keyword">new</span> G4LogicalVolume(solidWorld, <a class="code" href="classMyDetectorConstruction.html#a36fc8a7b3d0ede648a6716f96a9dae6a">fAir</a>, <span class="stringliteral">&quot;logicWorld&quot;</span>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    G4VPhysicalVolume *physWorld = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(0., 0., 0.), <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="stringliteral">&quot;physWorld&quot;</span>, 0, <span class="keyword">false</span>, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// Option to draw only a SiPM, for debug</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classMyDetectorConstruction.html#af43415f80d1d5630c08698e5df9713ff">fIsASiPM</a>)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <a class="code" href="classMyDetectorConstruction.html#a0234f7923929adedff5196e545bffd57">ConstructASiPM</a>();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">return</span> physWorld;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// Construct the scintillator crystal</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    G4Tubs *solidScintillator = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;solidScintillator&quot;</span>, 0.*cm, <a class="code" href="namespaceGS.html#a28f67edd1619ebeafef61e691281b857">GS::radiusScintillator</a>, <a class="code" href="namespaceGS.html#a5fccc5fa1452bdbcaaeb882ea82395f4">GS::halfheightScintillator</a>, 0.*deg, 360.*deg);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a454acbdbad6b8017523ac2993ebfff2e">logicScintillator</a> = <span class="keyword">new</span> G4LogicalVolume(solidScintillator, <a class="code" href="classMyDetectorConstruction.html#a2ffcca9ad32b1d6e3d11e8ee8e5264c7">fLYSO</a>, <span class="stringliteral">&quot;logicScintillator&quot;</span>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    G4VPhysicalVolume *physScintillator = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(<a class="code" href="namespaceGS.html#a55206c901ce65ac7347f297d4ae251e4">GS::xScintillator</a>, <a class="code" href="namespaceGS.html#ae83297314b27aca2b6e6d07c55d645b3">GS::yScintillator</a>, <a class="code" href="namespaceGS.html#a047f9c491c7b79e2a861d2fd82865bb1">GS::zScintillator</a>), <a class="code" href="classMyDetectorConstruction.html#a454acbdbad6b8017523ac2993ebfff2e">logicScintillator</a>, <span class="stringliteral">&quot;physScintillator&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="keyword">false</span>, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">// Assign the logic scoring volume to the crystal</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a0f46b951aa903eb5bbc868c4093e8b5c">fScoringVolume</a> = <a class="code" href="classMyDetectorConstruction.html#a454acbdbad6b8017523ac2993ebfff2e">logicScintillator</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// Construct a coating for the crystal and the lightguide (if present)</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    G4Tubs *solidCoating = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;solidCoating&quot;</span>, (<a class="code" href="namespaceGS.html#a28f67edd1619ebeafef61e691281b857">GS::radiusScintillator</a> + <a class="code" href="namespaceGS.html#a7285451c7ea2982d0aaea12a5e1691b8">GS::coating_space</a>), (<a class="code" href="namespaceGS.html#a28f67edd1619ebeafef61e691281b857">GS::radiusScintillator</a> + <a class="code" href="namespaceGS.html#a7285451c7ea2982d0aaea12a5e1691b8">GS::coating_space</a> + <a class="code" href="namespaceGS.html#a9f4d84e78520ddfdda62d717ea38f34b">GS::coating_thickness</a>), <a class="code" href="namespaceGS.html#a5fccc5fa1452bdbcaaeb882ea82395f4">GS::halfheightScintillator</a>+2*(<a class="code" href="namespaceGS.html#a5480529f323848cc588f9601e592da0b">GS::halfheightLightGuide</a>*<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>), 0.*deg, 360.*deg);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a4a184ff9bb5407e3d68095796fb3ab3e">logicCoating</a> = <span class="keyword">new</span> G4LogicalVolume(solidCoating, <a class="code" href="classMyDetectorConstruction.html#aa1f23a2e5df31f9813b33d6836e97fe8">fAluminium</a>, <span class="stringliteral">&quot;logicCoating&quot;</span>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    G4VPhysicalVolume *physCoating = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(<a class="code" href="namespaceGS.html#a55206c901ce65ac7347f297d4ae251e4">GS::xScintillator</a>, <a class="code" href="namespaceGS.html#ae83297314b27aca2b6e6d07c55d645b3">GS::yScintillator</a>, <a class="code" href="namespaceGS.html#a047f9c491c7b79e2a861d2fd82865bb1">GS::zScintillator</a>), <a class="code" href="classMyDetectorConstruction.html#a4a184ff9bb5407e3d68095796fb3ab3e">logicCoating</a>, <span class="stringliteral">&quot;physCoating&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="keyword">false</span>, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// Construct lightguides, PCBs and endcaps -if setted-</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>) <a class="code" href="classMyDetectorConstruction.html#a16e6c63e24dfb436d63210c33217082c">ConstructGrease</a>();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>) <a class="code" href="classMyDetectorConstruction.html#aacfee0d62aa4c17ff7b1501d71281443">ConstructLightGuide</a>();</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classMyDetectorConstruction.html#ad674f8d5180381a8f88e11acf6448e45">fIsPCB</a>) <a class="code" href="classMyDetectorConstruction.html#aadaefe3a48125cec4408d956822db206">ConstructPCB</a>();</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classMyDetectorConstruction.html#a77d62da2df546628e107ceb170b1aa05">fIsEndcap</a>) <a class="code" href="classMyDetectorConstruction.html#a9b53b70afd68df3a407b228f28cf86ed">ConstructEndcap</a>();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">// Construct the package of the SIPM</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    G4Box *solidPackageSiPM = <span class="keyword">new</span> G4Box(<span class="stringliteral">&quot;solidPackageSiPM&quot;</span>, <a class="code" href="namespaceGS.html#a1da882a2ea62cd4ba2c813362a8b4007">GS::halfXsidePackageSiPM</a>, <a class="code" href="namespaceGS.html#a6144f30892d4c4f2b82d68818b62b335">GS::halfYsidePackageSiPM</a>, <a class="code" href="namespaceGS.html#a41cfcd51f144c729d61529f6def9e45b">GS::halfZsidePackageSiPM</a>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a5dca26057e2d531e18007678bb580ff0">logicPackageSiPM</a> = <span class="keyword">new</span> G4LogicalVolume(solidPackageSiPM, <a class="code" href="classMyDetectorConstruction.html#a664c36ff0df6c5bd722cbc0964fff291">fFR4</a>, <span class="stringliteral">&quot;logicPackageSiPM&quot;</span>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// Construct the window of the SIPM and put it inside the package</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    G4Box *solidWindowSiPM = <span class="keyword">new</span> G4Box(<span class="stringliteral">&quot;solidWindowSiPM&quot;</span>, <a class="code" href="namespaceGS.html#a150b65d3a8442892d042423fedc08045">GS::halfXsideWindowSiPM</a>, <a class="code" href="namespaceGS.html#a70d8de9946940e89da3cb18ecd121cdd">GS::halfYsideWindowSiPM</a>, <a class="code" href="namespaceGS.html#a260879fd7eefc12f60a58265c3368696">GS::halfZsideWindowSiPM</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a7df5786d7d77d04c56b4a0bb2bc54b9c">logicWindowSiPM</a> = <span class="keyword">new</span> G4LogicalVolume(solidWindowSiPM, <a class="code" href="classMyDetectorConstruction.html#a45c55069890a2471f0084d177a7324d5">fEpoxy</a>, <span class="stringliteral">&quot;logicWindowSiPM&quot;</span>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    G4VPhysicalVolume *physWindowSiPM = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(<a class="code" href="namespaceGS.html#a857617f2ad909c6b0645c373c1b96d05">GS::xWindowSiPM</a>, <a class="code" href="namespaceGS.html#a55cb0cba4f8e5099100ec8a53d67c7a7">GS::yWindowSiPM</a>, <a class="code" href="namespaceGS.html#a19a46221ae01e73cae7c1218d4e3ae60">GS::zWindowSiPM</a>), <a class="code" href="classMyDetectorConstruction.html#a7df5786d7d77d04c56b4a0bb2bc54b9c">logicWindowSiPM</a>, <span class="stringliteral">&quot;physWindowSiPM&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a5dca26057e2d531e18007678bb580ff0">logicPackageSiPM</a>, <span class="keyword">false</span>, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// Construct the silicon layer and put it inside the window</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    G4Box *solidDetector = <span class="keyword">new</span> G4Box(<span class="stringliteral">&quot;solidDetector&quot;</span>, <a class="code" href="namespaceGS.html#a22cc65aa3bc30889951959ff686a6cbb">GS::halfXsideDetector</a>, <a class="code" href="namespaceGS.html#a0bd29a16a5021b87e8c9587d819525dd">GS::halfYsideDetector</a>, <a class="code" href="namespaceGS.html#ac41945293464eaa682f075851d3ab4bc">GS::halfZsideDetector</a>);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a45966aa58477884e334ec973568bddd0">logicDetector</a> = <span class="keyword">new</span> G4LogicalVolume(solidDetector, <a class="code" href="classMyDetectorConstruction.html#ac083250bf0489c8e9f0a12fadd4601e8">fSilicon</a>, <span class="stringliteral">&quot;logicDetector&quot;</span>);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    G4VPhysicalVolume *physDetector = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(<a class="code" href="namespaceGS.html#a98342c9418bf91e63f76e8989795f1f8">GS::xDetector</a>, <a class="code" href="namespaceGS.html#ac274408d4ab48ba936420b2638716e15">GS::yDetector</a>, <a class="code" href="namespaceGS.html#a26bfdb5cefd5c5be0888f9fb11bde89e">GS::zDetector</a>), <a class="code" href="classMyDetectorConstruction.html#a45966aa58477884e334ec973568bddd0">logicDetector</a>, <span class="stringliteral">&quot;physDetector&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a7df5786d7d77d04c56b4a0bb2bc54b9c">logicWindowSiPM</a>, <span class="keyword">false</span>, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// Define the arrangement of SiPMs</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    G4VPhysicalVolume *physFrontPackageSiPM[<a class="code" href="namespaceGS.html#aafb3a9ae3043e5d5c0b5d50544174464">GS::nOfSiPMs</a>];</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    G4VPhysicalVolume *physBackPackageSiPM[<a class="code" href="namespaceGS.html#aafb3a9ae3043e5d5c0b5d50544174464">GS::nOfSiPMs</a>];</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    G4int indexDetector = 0;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">for</span>(G4int i = 0; i&lt;13; i++)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">if</span>(i==0 || i==12)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordflow">for</span>(G4int j = 0; j&lt;3; j++)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                <a class="code" href="classMyDetectorConstruction.html#a3de9be1f72c2c8c60f2baadf4ecd207a">PositionSiPMs</a>(physFrontPackageSiPM[indexDetector], physBackPackageSiPM[indexDetector], i, j, 1, indexDetector);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                indexDetector++;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">if</span>(i==1 || i==11)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">for</span>(G4int j = 0; j&lt;7; j++)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <a class="code" href="classMyDetectorConstruction.html#a3de9be1f72c2c8c60f2baadf4ecd207a">PositionSiPMs</a>(physFrontPackageSiPM[indexDetector], physBackPackageSiPM[indexDetector], i, j, 3, indexDetector);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                indexDetector++;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">if</span>(i==2 || i==10)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">for</span>(G4int j = 0; j&lt;9; j++)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <a class="code" href="classMyDetectorConstruction.html#a3de9be1f72c2c8c60f2baadf4ecd207a">PositionSiPMs</a>(physFrontPackageSiPM[indexDetector], physBackPackageSiPM[indexDetector], i, j, 4, indexDetector);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                indexDetector++;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">if</span>(i&gt;=3 &amp;&amp; i&lt;=9)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="keywordflow">for</span>(G4int j = 0; j&lt;11; j++)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <a class="code" href="classMyDetectorConstruction.html#a3de9be1f72c2c8c60f2baadf4ecd207a">PositionSiPMs</a>(physFrontPackageSiPM[indexDetector], physBackPackageSiPM[indexDetector], i, j, 5, indexDetector);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                indexDetector++;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">// Add visualization attributes</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a04d3ada300cd25e1ac490561cdbc96e9">DefineVisAttributes</a>();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// Always return physWorld</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">return</span> physWorld;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="classMyDetectorConstruction.html#ac7e3c9f91dfc451510c23b31752c5a40">  256</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMyDetectorConstruction.html#ac7e3c9f91dfc451510c23b31752c5a40">MyDetectorConstruction::ConstructSDandField</a>()</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;{</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">// Set logic silicon layer as sensitive volume. Use G4SDManager to do it</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="classMySensitiveDetector.html">MySensitiveDetector</a> *sensDet = <span class="keyword">static_cast&lt;</span><a class="code" href="classMySensitiveDetector.html">MySensitiveDetector</a>*<span class="keyword">&gt;</span>(G4SDManager::GetSDMpointer()-&gt;FindSensitiveDetector(<span class="stringliteral">&quot;SensitiveDetector&quot;</span>));</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span>(!sensDet)</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        sensDet = <span class="keyword">new</span> <a class="code" href="classMySensitiveDetector.html">MySensitiveDetector</a>(<span class="stringliteral">&quot;SensitiveDetector&quot;</span>, <span class="stringliteral">&quot;HitsCollection&quot;</span>);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        G4SDManager::GetSDMpointer()-&gt;AddNewDetector(sensDet);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    SetSensitiveDetector(<a class="code" href="classMyDetectorConstruction.html#a45966aa58477884e334ec973568bddd0">logicDetector</a>, sensDet);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="classMyDetectorConstruction.html#a16e6c63e24dfb436d63210c33217082c">  272</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMyDetectorConstruction.html#a16e6c63e24dfb436d63210c33217082c">MyDetectorConstruction::ConstructGrease</a>()</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;{</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">// Grease as cilinder</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    G4Tubs *solidGrease = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;solidGrease&quot;</span>, 0, <a class="code" href="namespaceGS.html#a28f67edd1619ebeafef61e691281b857">GS::radiusScintillator</a>, <a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>, 0.*deg, 360.*deg);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a1c4b9709667dd399acd2b33531e8e9ae">logicGrease</a> = <span class="keyword">new</span> G4LogicalVolume(solidGrease, <a class="code" href="classMyDetectorConstruction.html#a8296c605e4de3176afa6c9f52b5355f1">fGrease</a>, <span class="stringliteral">&quot;logicGrease&quot;</span>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    G4VPhysicalVolume *physFrontGrease = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(0, 0, <a class="code" href="namespaceGS.html#a40fe412e300881a4aa760936b6535062">GS::zFrontFaceScintillator</a>-<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>), <a class="code" href="classMyDetectorConstruction.html#a1c4b9709667dd399acd2b33531e8e9ae">logicGrease</a>, <span class="stringliteral">&quot;physFrontGrease&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="keyword">false</span>, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    G4VPhysicalVolume *physBackGrease = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(0, 0, <a class="code" href="namespaceGS.html#a30fa446464e83cae21058594d40b3467">GS::zBackFaceScintillator</a>+<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>), <a class="code" href="classMyDetectorConstruction.html#a1c4b9709667dd399acd2b33531e8e9ae">logicGrease</a>, <span class="stringliteral">&quot;physBackGrease&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="keyword">false</span>, 1, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        G4VPhysicalVolume *physSecondFrontGrease = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(0, 0, <a class="code" href="namespaceGS.html#a40fe412e300881a4aa760936b6535062">GS::zFrontFaceScintillator</a>-2*<a class="code" href="namespaceGS.html#a5480529f323848cc588f9601e592da0b">GS::halfheightLightGuide</a>-3*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>), <a class="code" href="classMyDetectorConstruction.html#a1c4b9709667dd399acd2b33531e8e9ae">logicGrease</a>, <span class="stringliteral">&quot;physSecondFrontGrease&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="keyword">false</span>, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        G4VPhysicalVolume *physSecondBackGrease = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(0, 0, <a class="code" href="namespaceGS.html#a30fa446464e83cae21058594d40b3467">GS::zBackFaceScintillator</a>+2*<a class="code" href="namespaceGS.html#a5480529f323848cc588f9601e592da0b">GS::halfheightLightGuide</a>+3*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>), <a class="code" href="classMyDetectorConstruction.html#a1c4b9709667dd399acd2b33531e8e9ae">logicGrease</a>, <span class="stringliteral">&quot;physSecondBackGrease&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="keyword">false</span>, 1, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// Grease as surface</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classMyDetectorConstruction.html#abfe848b1d7a8a356084293800e3c1089">fIsOpticalGreaseSurface</a>)</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        G4LogicalSkinSurface *logicGreaseSurface = <span class="keyword">new</span> G4LogicalSkinSurface(<span class="stringliteral">&quot;GreaseSurface&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a1c4b9709667dd399acd2b33531e8e9ae">logicGrease</a>, <a class="code" href="classMyDetectorConstruction.html#ad8bb986a451802a7e305a7e9b3186025">fOpGreaseSurface</a>);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="classMyDetectorConstruction.html#aacfee0d62aa4c17ff7b1501d71281443">  293</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMyDetectorConstruction.html#aacfee0d62aa4c17ff7b1501d71281443">MyDetectorConstruction::ConstructLightGuide</a>()</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;{</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    G4Material *fLightGuideMaterial = 0;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// Solid light guide as cilinder</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    G4Tubs *solidLightGuide = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;solidLightGuide&quot;</span>, 0, <a class="code" href="namespaceGS.html#a5641898f070040e3fdec3b9a1bbdb734">GS::radiusLightGuide</a>, <a class="code" href="namespaceGS.html#a5480529f323848cc588f9601e592da0b">GS::halfheightLightGuide</a>, 0.*deg, 360.*deg);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="comment">// Drill 4 holes in the light guide for LEDs </span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    G4Tubs *solidHoleUP = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;solidHoleLightGuide&quot;</span>, 0, <a class="code" href="namespaceGS.html#ae83bc455ac594cbdc5f2a703c9472ab1">GS::radiusHole</a>, <a class="code" href="namespaceGS.html#a130107aee9f9f1bede62531215171c17">GS::depthHole</a>, 0.*deg, 360*deg);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    G4Tubs *solidHoleDOWN = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;solidHoleLightGuide&quot;</span>, 0, <a class="code" href="namespaceGS.html#ae83bc455ac594cbdc5f2a703c9472ab1">GS::radiusHole</a>, <a class="code" href="namespaceGS.html#a130107aee9f9f1bede62531215171c17">GS::depthHole</a>, 0.*deg, 360*deg);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    G4Tubs *solidHoleRIGHT = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;solidHoleLightGuide&quot;</span>, 0, <a class="code" href="namespaceGS.html#ae83bc455ac594cbdc5f2a703c9472ab1">GS::radiusHole</a>, <a class="code" href="namespaceGS.html#a130107aee9f9f1bede62531215171c17">GS::depthHole</a>, 0.*deg, 360*deg);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    G4Tubs *solidHoleLEFT = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;solidHoleLightGuide&quot;</span>, 0, <a class="code" href="namespaceGS.html#ae83bc455ac594cbdc5f2a703c9472ab1">GS::radiusHole</a>, <a class="code" href="namespaceGS.html#a130107aee9f9f1bede62531215171c17">GS::depthHole</a>, 0.*deg, 360*deg);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    G4Rotate3D rotXholeUP(90*deg, G4ThreeVector(1, 0, 0));</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    G4Translate3D transYholeUP(G4ThreeVector(0, <a class="code" href="namespaceGS.html#a5641898f070040e3fdec3b9a1bbdb734">GS::radiusLightGuide</a>, 0));</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    G4Transform3D transformHoleUP = (transYholeUP)*(rotXholeUP);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    G4Rotate3D rotXholeDOWN(90*deg, G4ThreeVector(1, 0, 0));</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    G4Translate3D transYholeDOWN(G4ThreeVector(0, -<a class="code" href="namespaceGS.html#a5641898f070040e3fdec3b9a1bbdb734">GS::radiusLightGuide</a>, 0));</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    G4Transform3D transformHoleDOWN = (transYholeDOWN)*(rotXholeDOWN);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    G4Rotate3D rotYholeRIGHT(90*deg, G4ThreeVector(0, 1, 0));</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    G4Translate3D transYholeRIGHT(G4ThreeVector(<a class="code" href="namespaceGS.html#a5641898f070040e3fdec3b9a1bbdb734">GS::radiusLightGuide</a>, 0, 0));</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    G4Transform3D transformHoleRIGHT = (transYholeRIGHT)*(rotYholeRIGHT);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    G4Rotate3D rotYholeLEFT(90*deg, G4ThreeVector(0, 1, 0));</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    G4Translate3D transYholeLEFT(G4ThreeVector(-<a class="code" href="namespaceGS.html#a5641898f070040e3fdec3b9a1bbdb734">GS::radiusLightGuide</a>, 0, 0));</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    G4Transform3D transformHoleLEFT = (transYholeLEFT)*(rotYholeLEFT);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    G4MultiUnion *solidHoles = <span class="keyword">new</span> G4MultiUnion(<span class="stringliteral">&quot;solidHoles&quot;</span>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    solidHoles-&gt;AddNode(*solidHoleUP, transformHoleUP);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    solidHoles-&gt;AddNode(*solidHoleDOWN, transformHoleDOWN);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    solidHoles-&gt;AddNode(*solidHoleRIGHT, transformHoleRIGHT);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    solidHoles-&gt;AddNode(*solidHoleLEFT, transformHoleLEFT);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    solidHoles-&gt;Voxelize();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    G4VSolid *solidDrilledLightGuide = <span class="keyword">new</span> G4SubtractionSolid(<span class="stringliteral">&quot;solidDrilledLightGuide&quot;</span>, solidLightGuide, solidHoles);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">// Options for material</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">switch</span>(<a class="code" href="classMyDetectorConstruction.html#a3094c77e904dee181282672e7f479a97">nLightGuideMat</a>)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">case</span> 1:    <span class="comment">// Plexiglass</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            fLightGuideMaterial = <a class="code" href="classMyDetectorConstruction.html#a58ca80b7d3863e0b7c578010c46e3057">fPlexiglass</a>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">case</span> 2:    <span class="comment">// Sapphire</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            fLightGuideMaterial = <a class="code" href="classMyDetectorConstruction.html#a4fed8c9af112b04f50fd483fea9bcd4b">fSapphire</a>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            G4cerr &lt;&lt; <span class="stringliteral">&quot;Option for lightguide&#39;s material not valid. \&quot;Plexiglass\&quot; has been setted&quot;</span> &lt;&lt; G4endl;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            fLightGuideMaterial = <a class="code" href="classMyDetectorConstruction.html#a58ca80b7d3863e0b7c578010c46e3057">fPlexiglass</a>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">// Logic and phys volumes for light guides</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#ab2d58931823c4ed0c4d1b157efaed4eb">logicLightGuide</a> = <span class="keyword">new</span> G4LogicalVolume(solidDrilledLightGuide, fLightGuideMaterial, <span class="stringliteral">&quot;logicLightGuide&quot;</span>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    G4VPhysicalVolume *physFrontLightGuide = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(0., 0., <a class="code" href="namespaceGS.html#a40fe412e300881a4aa760936b6535062">GS::zFrontFaceScintillator</a>-(2*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>*<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>)-<a class="code" href="namespaceGS.html#a5480529f323848cc588f9601e592da0b">GS::halfheightLightGuide</a>), <a class="code" href="classMyDetectorConstruction.html#ab2d58931823c4ed0c4d1b157efaed4eb">logicLightGuide</a>, <span class="stringliteral">&quot;physFrontLightGuide&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="keyword">false</span>, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    G4VPhysicalVolume *physBackLightGuide = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(0., 0., <a class="code" href="namespaceGS.html#a30fa446464e83cae21058594d40b3467">GS::zBackFaceScintillator</a>+(2*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>*<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>)+<a class="code" href="namespaceGS.html#a5480529f323848cc588f9601e592da0b">GS::halfheightLightGuide</a>), <a class="code" href="classMyDetectorConstruction.html#ab2d58931823c4ed0c4d1b157efaed4eb">logicLightGuide</a>, <span class="stringliteral">&quot;physBackLightGuide&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="keyword">false</span>, 1, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="classMyDetectorConstruction.html#aadaefe3a48125cec4408d956822db206">  353</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMyDetectorConstruction.html#aadaefe3a48125cec4408d956822db206">MyDetectorConstruction::ConstructPCB</a>()</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;{</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">// PCB as cilinder</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    G4Tubs *solidPCB = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;solidPCB&quot;</span>, 0, <a class="code" href="namespaceGS.html#ac9c343efcb0e19f9d7ecf23ce6ad246a">GS::radiusPCB</a>, <a class="code" href="namespaceGS.html#a1f5d879aa4252e9b902a1a8286f4eb10">GS::halfheightPCB</a>, 0.*deg, 360.*deg);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a1d3a7753f0140fe08dddd6b0d0739522">logicPCB</a> = <span class="keyword">new</span> G4LogicalVolume(solidPCB, <a class="code" href="classMyDetectorConstruction.html#a664c36ff0df6c5bd722cbc0964fff291">fFR4</a>, <span class="stringliteral">&quot;logicPCB&quot;</span>);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    G4VPhysicalVolume *physFrontPCB = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(0, 0, <a class="code" href="namespaceGS.html#a40fe412e300881a4aa760936b6535062">GS::zFrontFaceScintillator</a>-(2*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>*<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>)-2*(<a class="code" href="namespaceGS.html#a5480529f323848cc588f9601e592da0b">GS::halfheightLightGuide</a>*<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>)-(2*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>*<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>*<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>)-2*<a class="code" href="namespaceGS.html#a41cfcd51f144c729d61529f6def9e45b">GS::halfZsidePackageSiPM</a>-<a class="code" href="namespaceGS.html#a1f5d879aa4252e9b902a1a8286f4eb10">GS::halfheightPCB</a>), <a class="code" href="classMyDetectorConstruction.html#a1d3a7753f0140fe08dddd6b0d0739522">logicPCB</a>, <span class="stringliteral">&quot;physFrontPCB&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="keyword">false</span>, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    G4VPhysicalVolume *physBackPCB = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(0, 0, <a class="code" href="namespaceGS.html#a30fa446464e83cae21058594d40b3467">GS::zBackFaceScintillator</a>+(2*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>*<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>)+2*(<a class="code" href="namespaceGS.html#a5480529f323848cc588f9601e592da0b">GS::halfheightLightGuide</a>*<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>)+(2*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>*<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>*<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>)+2*<a class="code" href="namespaceGS.html#a41cfcd51f144c729d61529f6def9e45b">GS::halfZsidePackageSiPM</a>+<a class="code" href="namespaceGS.html#a1f5d879aa4252e9b902a1a8286f4eb10">GS::halfheightPCB</a>), <a class="code" href="classMyDetectorConstruction.html#a1d3a7753f0140fe08dddd6b0d0739522">logicPCB</a>, <span class="stringliteral">&quot;physBackPCB&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="keyword">false</span>, 1, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;}</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="classMyDetectorConstruction.html#a9b53b70afd68df3a407b228f28cf86ed">  364</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMyDetectorConstruction.html#a9b53b70afd68df3a407b228f28cf86ed">MyDetectorConstruction::ConstructEndcap</a>()</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;{   </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="comment">// Endcap as cilinder</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    G4Tubs *solidEndcap = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;solidEndcap&quot;</span>, 0, <a class="code" href="namespaceGS.html#af8319f13858e30bb70a523f2abdf2fad">GS::radiusEndcap</a>, <a class="code" href="namespaceGS.html#a730a477eb84c3793f691c271d2f8bba5">GS::halfheightEndcap</a>, 0.*deg, 360.*deg);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a83962e0351984bacee77021315f8165b">logicEndcap</a> = <span class="keyword">new</span> G4LogicalVolume(solidEndcap, <a class="code" href="classMyDetectorConstruction.html#ac3b90c8a28d996a564b636dc4b6a3ecf">fCarbonFiber</a>, <span class="stringliteral">&quot;logicEndcap&quot;</span>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    G4VPhysicalVolume *physFrontEndcap = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(0, 0, <a class="code" href="namespaceGS.html#a40fe412e300881a4aa760936b6535062">GS::zFrontFaceScintillator</a>-(2*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>*<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>)-2*(<a class="code" href="namespaceGS.html#a5480529f323848cc588f9601e592da0b">GS::halfheightLightGuide</a>*<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>)-(2*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>*<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>*<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>)-2*<a class="code" href="namespaceGS.html#a41cfcd51f144c729d61529f6def9e45b">GS::halfZsidePackageSiPM</a>-2*(<a class="code" href="namespaceGS.html#a1f5d879aa4252e9b902a1a8286f4eb10">GS::halfheightPCB</a>*<a class="code" href="classMyDetectorConstruction.html#ad674f8d5180381a8f88e11acf6448e45">fIsPCB</a>)-<a class="code" href="namespaceGS.html#a730a477eb84c3793f691c271d2f8bba5">GS::halfheightEndcap</a>), <a class="code" href="classMyDetectorConstruction.html#a83962e0351984bacee77021315f8165b">logicEndcap</a>, <span class="stringliteral">&quot;physFrontEndcap&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="keyword">false</span>, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    G4VPhysicalVolume *physBackEndcap = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(0, 0, <a class="code" href="namespaceGS.html#a30fa446464e83cae21058594d40b3467">GS::zBackFaceScintillator</a>+(2*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>*<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>)+2*(<a class="code" href="namespaceGS.html#a5480529f323848cc588f9601e592da0b">GS::halfheightLightGuide</a>*<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>)+(2*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>*<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>*<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>)+2*<a class="code" href="namespaceGS.html#a41cfcd51f144c729d61529f6def9e45b">GS::halfZsidePackageSiPM</a>+2*(<a class="code" href="namespaceGS.html#a1f5d879aa4252e9b902a1a8286f4eb10">GS::halfheightPCB</a>*<a class="code" href="classMyDetectorConstruction.html#ad674f8d5180381a8f88e11acf6448e45">fIsPCB</a>)+<a class="code" href="namespaceGS.html#a730a477eb84c3793f691c271d2f8bba5">GS::halfheightEndcap</a>), <a class="code" href="classMyDetectorConstruction.html#a83962e0351984bacee77021315f8165b">logicEndcap</a>, <span class="stringliteral">&quot;physBackEndcap&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="keyword">false</span>, 1, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="classMyDetectorConstruction.html#a3de9be1f72c2c8c60f2baadf4ecd207a">  375</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMyDetectorConstruction.html#a3de9be1f72c2c8c60f2baadf4ecd207a">MyDetectorConstruction::PositionSiPMs</a>(G4VPhysicalVolume *physFrontSiPM, G4VPhysicalVolume *physBackSiPM, G4int row, G4int col, G4int halfCols, G4int index)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">// Place the packages. When in back face, need to rotate them of 180°</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    physFrontSiPM = <span class="keyword">new</span> G4PVPlacement(0,G4ThreeVector((2*<a class="code" href="namespaceGS.html#a1da882a2ea62cd4ba2c813362a8b4007">GS::halfXsidePackageSiPM</a>*(col-halfCols)), (2*<a class="code" href="namespaceGS.html#a6144f30892d4c4f2b82d68818b62b335">GS::halfYsidePackageSiPM</a>*(6-row)), <a class="code" href="namespaceGS.html#a40fe412e300881a4aa760936b6535062">GS::zFrontFaceScintillator</a>-(2*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>*<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>)-2*(<a class="code" href="namespaceGS.html#a5480529f323848cc588f9601e592da0b">GS::halfheightLightGuide</a>*<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>)-(2*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>*<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>*<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>)-<a class="code" href="namespaceGS.html#a41cfcd51f144c729d61529f6def9e45b">GS::halfZsidePackageSiPM</a>), <a class="code" href="classMyDetectorConstruction.html#a5dca26057e2d531e18007678bb580ff0">logicPackageSiPM</a>, <span class="stringliteral">&quot;physFrontPackageSiPM&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="keyword">false</span>, index, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    G4Rotate3D rotXBackDet(180*deg, G4ThreeVector(1, 0, 0));</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    G4Translate3D transBackDet(G4ThreeVector(2*<a class="code" href="namespaceGS.html#a1da882a2ea62cd4ba2c813362a8b4007">GS::halfXsidePackageSiPM</a>*(col-halfCols), 2*<a class="code" href="namespaceGS.html#a6144f30892d4c4f2b82d68818b62b335">GS::halfYsidePackageSiPM</a>*(6-row), <a class="code" href="namespaceGS.html#a30fa446464e83cae21058594d40b3467">GS::zBackFaceScintillator</a>+(2*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>*<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>)+2*(<a class="code" href="namespaceGS.html#a5480529f323848cc588f9601e592da0b">GS::halfheightLightGuide</a>*<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>)+(2*<a class="code" href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a>*<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>*<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>)+<a class="code" href="namespaceGS.html#a41cfcd51f144c729d61529f6def9e45b">GS::halfZsidePackageSiPM</a>));</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    G4Transform3D transformBackDet = (transBackDet)*(rotXBackDet);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    physBackSiPM = <span class="keyword">new</span> G4PVPlacement(transformBackDet, <a class="code" href="classMyDetectorConstruction.html#a5dca26057e2d531e18007678bb580ff0">logicPackageSiPM</a>, <span class="stringliteral">&quot;physBackPackageSiPM&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="keyword">false</span>, index, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="classMyDetectorConstruction.html#a04d3ada300cd25e1ac490561cdbc96e9">  389</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMyDetectorConstruction.html#a04d3ada300cd25e1ac490561cdbc96e9">MyDetectorConstruction::DefineVisAttributes</a>()</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;{</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// Worlds</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    G4VisAttributes *visWorld = <span class="keyword">new</span> G4VisAttributes();</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    visWorld-&gt;SetVisibility(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>-&gt;SetVisAttributes(visWorld);    </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="comment">// Endcaps</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classMyDetectorConstruction.html#a77d62da2df546628e107ceb170b1aa05">fIsEndcap</a>)</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        G4VisAttributes *visEndcap = <span class="keyword">new</span> G4VisAttributes();</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        visEndcap-&gt;SetColour(0.5, 0.5, 0.5, 0.5);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <a class="code" href="classMyDetectorConstruction.html#a83962e0351984bacee77021315f8165b">logicEndcap</a>-&gt;SetVisAttributes(visEndcap);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">// PCBs</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classMyDetectorConstruction.html#ad674f8d5180381a8f88e11acf6448e45">fIsPCB</a>)</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        G4VisAttributes *visPCB = <span class="keyword">new</span> G4VisAttributes();</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        visPCB-&gt;SetColour(0, 1, 0, 0.65);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="classMyDetectorConstruction.html#a1d3a7753f0140fe08dddd6b0d0739522">logicPCB</a>-&gt;SetVisAttributes(visPCB);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="comment">// Light guides</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        G4VisAttributes *visLightGuide = <span class="keyword">new</span> G4VisAttributes();</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        visLightGuide-&gt;SetColour(1, 1, 1, 0.5);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="classMyDetectorConstruction.html#ab2d58931823c4ed0c4d1b157efaed4eb">logicLightGuide</a>-&gt;SetVisAttributes(visLightGuide);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        G4VisAttributes *visGrease = <span class="keyword">new</span> G4VisAttributes();</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        visGrease-&gt;SetColour(1, 0.5, 0, 0.5);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <a class="code" href="classMyDetectorConstruction.html#a1c4b9709667dd399acd2b33531e8e9ae">logicGrease</a>-&gt;SetVisAttributes(visGrease);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">// SiPM packages</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    G4VisAttributes *visPackage = <span class="keyword">new</span> G4VisAttributes();</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    visPackage-&gt;SetColour(1, 1, 0, 0.7);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a5dca26057e2d531e18007678bb580ff0">logicPackageSiPM</a>-&gt;SetVisAttributes(visPackage);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="comment">// SiPM windows</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    G4VisAttributes *visWindow = <span class="keyword">new</span> G4VisAttributes();</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    visWindow-&gt;SetColour(1, 1, 1, 0.7);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a7df5786d7d77d04c56b4a0bb2bc54b9c">logicWindowSiPM</a>-&gt;SetVisAttributes(visWindow);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">// SiPM silicon layers</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    G4VisAttributes *visDetector = <span class="keyword">new</span> G4VisAttributes();</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    visDetector-&gt;SetColour(0.45, 0.25, 0, 0.7);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a45966aa58477884e334ec973568bddd0">logicDetector</a>-&gt;SetVisAttributes(visDetector);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">// Scintillator</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    G4VisAttributes *visScintillator = <span class="keyword">new</span> G4VisAttributes();</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    visScintillator-&gt;SetColour(0, 0, 1, 0.98);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a454acbdbad6b8017523ac2993ebfff2e">logicScintillator</a>-&gt;SetVisAttributes(visScintillator);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">// Coating</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    G4VisAttributes *visCoating = <span class="keyword">new</span> G4VisAttributes();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    visCoating-&gt;SetVisibility(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a4a184ff9bb5407e3d68095796fb3ab3e">logicCoating</a>-&gt;SetVisAttributes(visCoating);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;}</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="classMyDetectorConstruction.html#a95730385382338f8b597bfe4557f9c82">  455</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMyDetectorConstruction.html#a95730385382338f8b597bfe4557f9c82">MyDetectorConstruction::DefineCommands</a>()</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;{</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="comment">// Define my UD-messenger for the detector construction</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a88b9e93ea8f792540e934177f707d8f7">fMessenger</a> = <span class="keyword">new</span> G4GenericMessenger(<span class="keyword">this</span>, <span class="stringliteral">&quot;/MC_LYSO/myConstruction/&quot;</span>, <span class="stringliteral">&quot;Construction settings&quot;</span>);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a88b9e93ea8f792540e934177f707d8f7">fMessenger</a>-&gt;DeclareProperty(<span class="stringliteral">&quot;isOpticalGrease&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">fIsGrease</a>, <span class="stringliteral">&quot;Set if optical grease is present&quot;</span>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a88b9e93ea8f792540e934177f707d8f7">fMessenger</a>-&gt;DeclareProperty(<span class="stringliteral">&quot;isLightGuide&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">fIsLightGuide</a>, <span class="stringliteral">&quot;Set if the two light guides are present&quot;</span>);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a88b9e93ea8f792540e934177f707d8f7">fMessenger</a>-&gt;DeclareProperty(<span class="stringliteral">&quot;isPCB&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#ad674f8d5180381a8f88e11acf6448e45">fIsPCB</a>, <span class="stringliteral">&quot;Set if the two PCBs are present&quot;</span>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a88b9e93ea8f792540e934177f707d8f7">fMessenger</a>-&gt;DeclareProperty(<span class="stringliteral">&quot;isEndcap&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a77d62da2df546628e107ceb170b1aa05">fIsEndcap</a>, <span class="stringliteral">&quot;Set if the two endcaps are present&quot;</span>);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a88b9e93ea8f792540e934177f707d8f7">fMessenger</a>-&gt;DeclareProperty(<span class="stringliteral">&quot;MaterialOfLightGuide&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a3094c77e904dee181282672e7f479a97">nLightGuideMat</a>, <span class="stringliteral">&quot;Set the material of light guide: 1 = Plexiglass, 2 = Sapphire&quot;</span>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a88b9e93ea8f792540e934177f707d8f7">fMessenger</a>-&gt;DeclareProperty(<span class="stringliteral">&quot;isASiPM&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#af43415f80d1d5630c08698e5df9713ff">fIsASiPM</a>, <span class="stringliteral">&quot;Set if draw only a SiPM&quot;</span>);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="classMyDetectorConstruction.html#a0234f7923929adedff5196e545bffd57">  469</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMyDetectorConstruction.html#a0234f7923929adedff5196e545bffd57">MyDetectorConstruction::ConstructASiPM</a>()</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;{</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="comment">// Construct the package of the SIPM</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    G4Box *solidPackageSiPM = <span class="keyword">new</span> G4Box(<span class="stringliteral">&quot;solidPackageSiPM&quot;</span>, <a class="code" href="namespaceGS.html#a1da882a2ea62cd4ba2c813362a8b4007">GS::halfXsidePackageSiPM</a>, <a class="code" href="namespaceGS.html#a6144f30892d4c4f2b82d68818b62b335">GS::halfYsidePackageSiPM</a>, <a class="code" href="namespaceGS.html#a41cfcd51f144c729d61529f6def9e45b">GS::halfZsidePackageSiPM</a>);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a5dca26057e2d531e18007678bb580ff0">logicPackageSiPM</a> = <span class="keyword">new</span> G4LogicalVolume(solidPackageSiPM, <a class="code" href="classMyDetectorConstruction.html#a664c36ff0df6c5bd722cbc0964fff291">fFR4</a>, <span class="stringliteral">&quot;logicPackageSiPM&quot;</span>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="comment">// Construct the window of the SIPM and put it inside the package</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    G4Box *solidWindowSiPM = <span class="keyword">new</span> G4Box(<span class="stringliteral">&quot;solidWindowSiPM&quot;</span>, <a class="code" href="namespaceGS.html#a150b65d3a8442892d042423fedc08045">GS::halfXsideWindowSiPM</a>, <a class="code" href="namespaceGS.html#a70d8de9946940e89da3cb18ecd121cdd">GS::halfYsideWindowSiPM</a>, <a class="code" href="namespaceGS.html#a260879fd7eefc12f60a58265c3368696">GS::halfZsideWindowSiPM</a>);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a7df5786d7d77d04c56b4a0bb2bc54b9c">logicWindowSiPM</a> = <span class="keyword">new</span> G4LogicalVolume(solidWindowSiPM, <a class="code" href="classMyDetectorConstruction.html#a45c55069890a2471f0084d177a7324d5">fEpoxy</a>, <span class="stringliteral">&quot;logicWindowSiPM&quot;</span>);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    G4VPhysicalVolume *physWindowSiPM = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(<a class="code" href="namespaceGS.html#a857617f2ad909c6b0645c373c1b96d05">GS::xWindowSiPM</a>, <a class="code" href="namespaceGS.html#a55cb0cba4f8e5099100ec8a53d67c7a7">GS::yWindowSiPM</a>, <a class="code" href="namespaceGS.html#a19a46221ae01e73cae7c1218d4e3ae60">GS::zWindowSiPM</a>), <a class="code" href="classMyDetectorConstruction.html#a7df5786d7d77d04c56b4a0bb2bc54b9c">logicWindowSiPM</a>, <span class="stringliteral">&quot;physWindowSiPM&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a5dca26057e2d531e18007678bb580ff0">logicPackageSiPM</a>, <span class="keyword">false</span>, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="comment">// Construct the silicon layer and put it inside the window</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    G4Box *solidDetector = <span class="keyword">new</span> G4Box(<span class="stringliteral">&quot;solidDetector&quot;</span>, <a class="code" href="namespaceGS.html#a22cc65aa3bc30889951959ff686a6cbb">GS::halfXsideDetector</a>, <a class="code" href="namespaceGS.html#a0bd29a16a5021b87e8c9587d819525dd">GS::halfYsideDetector</a>, <a class="code" href="namespaceGS.html#ac41945293464eaa682f075851d3ab4bc">GS::halfZsideDetector</a>);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a45966aa58477884e334ec973568bddd0">logicDetector</a> = <span class="keyword">new</span> G4LogicalVolume(solidDetector, <a class="code" href="classMyDetectorConstruction.html#ac083250bf0489c8e9f0a12fadd4601e8">fSilicon</a>, <span class="stringliteral">&quot;logicDetector&quot;</span>);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    G4VPhysicalVolume *physDetector = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(<a class="code" href="namespaceGS.html#a98342c9418bf91e63f76e8989795f1f8">GS::xDetector</a>, <a class="code" href="namespaceGS.html#ac274408d4ab48ba936420b2638716e15">GS::yDetector</a>, <a class="code" href="namespaceGS.html#a26bfdb5cefd5c5be0888f9fb11bde89e">GS::zDetector</a>), <a class="code" href="classMyDetectorConstruction.html#a45966aa58477884e334ec973568bddd0">logicDetector</a>, <span class="stringliteral">&quot;physDetector&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a7df5786d7d77d04c56b4a0bb2bc54b9c">logicWindowSiPM</a>, <span class="keyword">false</span>, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(0, 0, 0), <a class="code" href="classMyDetectorConstruction.html#a5dca26057e2d531e18007678bb580ff0">logicPackageSiPM</a>, <span class="stringliteral">&quot;aSiPM&quot;</span>, <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>, <span class="keyword">false</span>, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="comment">// Vis attributes</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="comment">// World</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    G4VisAttributes *visWorld = <span class="keyword">new</span> G4VisAttributes();</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    visWorld-&gt;SetVisibility(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">logicWorld</a>-&gt;SetVisAttributes(visWorld);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">// SiPM packages</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    G4VisAttributes *visPackage = <span class="keyword">new</span> G4VisAttributes();</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    visPackage-&gt;SetColour(1, 1, 0, 0.7);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a5dca26057e2d531e18007678bb580ff0">logicPackageSiPM</a>-&gt;SetVisAttributes(visPackage);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">// SiPM windows</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    G4VisAttributes *visWindow = <span class="keyword">new</span> G4VisAttributes();</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    visWindow-&gt;SetColour(1, 1, 1, 0.7);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a7df5786d7d77d04c56b4a0bb2bc54b9c">logicWindowSiPM</a>-&gt;SetVisAttributes(visWindow);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="comment">// SiPM silicon layers</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    G4VisAttributes *visDetector = <span class="keyword">new</span> G4VisAttributes();</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    visDetector-&gt;SetColour(0.45, 0.25, 0, 0.7);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="classMyDetectorConstruction.html#a45966aa58477884e334ec973568bddd0">logicDetector</a>-&gt;SetVisAttributes(visDetector);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;}</div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a01ab5593d40d2ede193b80f0b0bfb53a"><div class="ttname"><a href="classMyDetectorConstruction.html#a01ab5593d40d2ede193b80f0b0bfb53a">MyDetectorConstruction::MyDetectorConstruction</a></div><div class="ttdeci">MyDetectorConstruction()</div><div class="ttdoc">Constructor of the class.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cc_source.html#l00007">construction.cc:7</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a0234f7923929adedff5196e545bffd57"><div class="ttname"><a href="classMyDetectorConstruction.html#a0234f7923929adedff5196e545bffd57">MyDetectorConstruction::ConstructASiPM</a></div><div class="ttdeci">void ConstructASiPM()</div><div class="ttdoc">Auxiliary function called by Construct() for building only one SiPM.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cc_source.html#l00469">construction.cc:469</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a04d3ada300cd25e1ac490561cdbc96e9"><div class="ttname"><a href="classMyDetectorConstruction.html#a04d3ada300cd25e1ac490561cdbc96e9">MyDetectorConstruction::DefineVisAttributes</a></div><div class="ttdeci">void DefineVisAttributes()</div><div class="ttdoc">Defines the visualization attributes for every component of the apparatus.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cc_source.html#l00389">construction.cc:389</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a0f46b951aa903eb5bbc868c4093e8b5c"><div class="ttname"><a href="classMyDetectorConstruction.html#a0f46b951aa903eb5bbc868c4093e8b5c">MyDetectorConstruction::fScoringVolume</a></div><div class="ttdeci">G4LogicalVolume * fScoringVolume</div><div class="ttdoc">Pointer used to define the logical volume of the scoring volume. In the application it is assigned to...</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00098">construction.hh:98</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a16e6c63e24dfb436d63210c33217082c"><div class="ttname"><a href="classMyDetectorConstruction.html#a16e6c63e24dfb436d63210c33217082c">MyDetectorConstruction::ConstructGrease</a></div><div class="ttdeci">void ConstructGrease()</div><div class="ttdoc">Auxiliary function called by Construct() for building the optical grease.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cc_source.html#l00272">construction.cc:272</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a1c4b9709667dd399acd2b33531e8e9ae"><div class="ttname"><a href="classMyDetectorConstruction.html#a1c4b9709667dd399acd2b33531e8e9ae">MyDetectorConstruction::logicGrease</a></div><div class="ttdeci">G4LogicalVolume * logicGrease</div><div class="ttdoc">Pointer to optical grease logical volume.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00095">construction.hh:95</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a1d3a7753f0140fe08dddd6b0d0739522"><div class="ttname"><a href="classMyDetectorConstruction.html#a1d3a7753f0140fe08dddd6b0d0739522">MyDetectorConstruction::logicPCB</a></div><div class="ttdeci">G4LogicalVolume * logicPCB</div><div class="ttdoc">Pointer to PCB logical volume.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00092">construction.hh:92</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a2ffcca9ad32b1d6e3d11e8ee8e5264c7"><div class="ttname"><a href="classMyDetectorConstruction.html#a2ffcca9ad32b1d6e3d11e8ee8e5264c7">MyDetectorConstruction::fLYSO</a></div><div class="ttdeci">G4Material * fLYSO</div><div class="ttdoc">Pointer to the LYSO material.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00101">construction.hh:101</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a3094c77e904dee181282672e7f479a97"><div class="ttname"><a href="classMyDetectorConstruction.html#a3094c77e904dee181282672e7f479a97">MyDetectorConstruction::nLightGuideMat</a></div><div class="ttdeci">G4int nLightGuideMat</div><div class="ttdoc">Indicates which material has to be used for light guides; 1 for plexiglass, 2 for sapphire.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00124">construction.hh:124</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a36fc8a7b3d0ede648a6716f96a9dae6a"><div class="ttname"><a href="classMyDetectorConstruction.html#a36fc8a7b3d0ede648a6716f96a9dae6a">MyDetectorConstruction::fAir</a></div><div class="ttdeci">G4Material * fAir</div><div class="ttdoc">Pointer to the air material.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00102">construction.hh:102</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a3de9be1f72c2c8c60f2baadf4ecd207a"><div class="ttname"><a href="classMyDetectorConstruction.html#a3de9be1f72c2c8c60f2baadf4ecd207a">MyDetectorConstruction::PositionSiPMs</a></div><div class="ttdeci">void PositionSiPMs(G4VPhysicalVolume *physFrontSiPM, G4VPhysicalVolume *physBackSiPM, G4int row, G4int col, G4int halfCols, G4int index)</div><div class="ttdoc">Auxiliary function called by Construct() for putting in the right position every SiPM.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cc_source.html#l00375">construction.cc:375</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a43fc867cbed18c61d944b4df334d6004"><div class="ttname"><a href="classMyDetectorConstruction.html#a43fc867cbed18c61d944b4df334d6004">MyDetectorConstruction::logicWorld</a></div><div class="ttdeci">G4LogicalVolume * logicWorld</div><div class="ttdoc">Pointer to world logical volume.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00086">construction.hh:86</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a454acbdbad6b8017523ac2993ebfff2e"><div class="ttname"><a href="classMyDetectorConstruction.html#a454acbdbad6b8017523ac2993ebfff2e">MyDetectorConstruction::logicScintillator</a></div><div class="ttdeci">G4LogicalVolume * logicScintillator</div><div class="ttdoc">Pointer to crystal logical volume.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00087">construction.hh:87</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a45966aa58477884e334ec973568bddd0"><div class="ttname"><a href="classMyDetectorConstruction.html#a45966aa58477884e334ec973568bddd0">MyDetectorConstruction::logicDetector</a></div><div class="ttdeci">G4LogicalVolume * logicDetector</div><div class="ttdoc">Pointer to silicon layer of SiPM logical volume.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00090">construction.hh:90</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a45c55069890a2471f0084d177a7324d5"><div class="ttname"><a href="classMyDetectorConstruction.html#a45c55069890a2471f0084d177a7324d5">MyDetectorConstruction::fEpoxy</a></div><div class="ttdeci">G4Material * fEpoxy</div><div class="ttdoc">Pointer to the epoxy material.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00106">construction.hh:106</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a4a184ff9bb5407e3d68095796fb3ab3e"><div class="ttname"><a href="classMyDetectorConstruction.html#a4a184ff9bb5407e3d68095796fb3ab3e">MyDetectorConstruction::logicCoating</a></div><div class="ttdeci">G4LogicalVolume * logicCoating</div><div class="ttdoc">Pointer to coating logical volume.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00091">construction.hh:91</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a4fed8c9af112b04f50fd483fea9bcd4b"><div class="ttname"><a href="classMyDetectorConstruction.html#a4fed8c9af112b04f50fd483fea9bcd4b">MyDetectorConstruction::fSapphire</a></div><div class="ttdeci">G4Material * fSapphire</div><div class="ttdoc">Pointer to the sapphire material.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00110">construction.hh:110</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a58ca80b7d3863e0b7c578010c46e3057"><div class="ttname"><a href="classMyDetectorConstruction.html#a58ca80b7d3863e0b7c578010c46e3057">MyDetectorConstruction::fPlexiglass</a></div><div class="ttdeci">G4Material * fPlexiglass</div><div class="ttdoc">Pointer to the plexiglass material.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00109">construction.hh:109</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a58dc380f7c74b33bfece9fa811b09df3"><div class="ttname"><a href="classMyDetectorConstruction.html#a58dc380f7c74b33bfece9fa811b09df3">MyDetectorConstruction::fIsLightGuide</a></div><div class="ttdeci">G4bool fIsLightGuide</div><div class="ttdoc">Flag indicating whether the light guides must be constructed.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00120">construction.hh:120</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a5dca26057e2d531e18007678bb580ff0"><div class="ttname"><a href="classMyDetectorConstruction.html#a5dca26057e2d531e18007678bb580ff0">MyDetectorConstruction::logicPackageSiPM</a></div><div class="ttdeci">G4LogicalVolume * logicPackageSiPM</div><div class="ttdoc">Pointer to SiPM package logical volume.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00088">construction.hh:88</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a664c36ff0df6c5bd722cbc0964fff291"><div class="ttname"><a href="classMyDetectorConstruction.html#a664c36ff0df6c5bd722cbc0964fff291">MyDetectorConstruction::fFR4</a></div><div class="ttdeci">G4Material * fFR4</div><div class="ttdoc">Pointer to the FR4 material.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00107">construction.hh:107</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a77d62da2df546628e107ceb170b1aa05"><div class="ttname"><a href="classMyDetectorConstruction.html#a77d62da2df546628e107ceb170b1aa05">MyDetectorConstruction::fIsEndcap</a></div><div class="ttdeci">G4bool fIsEndcap</div><div class="ttdoc">Flag indicating whether the endcaps must be constructed.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00122">construction.hh:122</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a799f6c592028183c3f9947e64706b610"><div class="ttname"><a href="classMyDetectorConstruction.html#a799f6c592028183c3f9947e64706b610">MyDetectorConstruction::fVacuum</a></div><div class="ttdeci">G4Material * fVacuum</div><div class="ttdoc">Pointer to the vacuum material.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00103">construction.hh:103</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a7df5786d7d77d04c56b4a0bb2bc54b9c"><div class="ttname"><a href="classMyDetectorConstruction.html#a7df5786d7d77d04c56b4a0bb2bc54b9c">MyDetectorConstruction::logicWindowSiPM</a></div><div class="ttdeci">G4LogicalVolume * logicWindowSiPM</div><div class="ttdoc">Pointer to SiPM window logical volume.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00089">construction.hh:89</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a8296c605e4de3176afa6c9f52b5355f1"><div class="ttname"><a href="classMyDetectorConstruction.html#a8296c605e4de3176afa6c9f52b5355f1">MyDetectorConstruction::fGrease</a></div><div class="ttdeci">G4Material * fGrease</div><div class="ttdoc">Pointer to the optical grease material.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00111">construction.hh:111</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a83962e0351984bacee77021315f8165b"><div class="ttname"><a href="classMyDetectorConstruction.html#a83962e0351984bacee77021315f8165b">MyDetectorConstruction::logicEndcap</a></div><div class="ttdeci">G4LogicalVolume * logicEndcap</div><div class="ttdoc">Pointer to endcap logical volume.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00093">construction.hh:93</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a88b9e93ea8f792540e934177f707d8f7"><div class="ttname"><a href="classMyDetectorConstruction.html#a88b9e93ea8f792540e934177f707d8f7">MyDetectorConstruction::fMessenger</a></div><div class="ttdeci">G4GenericMessenger * fMessenger</div><div class="ttdoc">Generic messenger of the class.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00117">construction.hh:117</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a95730385382338f8b597bfe4557f9c82"><div class="ttname"><a href="classMyDetectorConstruction.html#a95730385382338f8b597bfe4557f9c82">MyDetectorConstruction::DefineCommands</a></div><div class="ttdeci">void DefineCommands()</div><div class="ttdoc">Defines new user commands for detector construction.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cc_source.html#l00455">construction.cc:455</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_a9b53b70afd68df3a407b228f28cf86ed"><div class="ttname"><a href="classMyDetectorConstruction.html#a9b53b70afd68df3a407b228f28cf86ed">MyDetectorConstruction::ConstructEndcap</a></div><div class="ttdeci">void ConstructEndcap()</div><div class="ttdoc">Auxiliary function called by Construct() for building the endcaps.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cc_source.html#l00364">construction.cc:364</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_aa1f23a2e5df31f9813b33d6836e97fe8"><div class="ttname"><a href="classMyDetectorConstruction.html#aa1f23a2e5df31f9813b33d6836e97fe8">MyDetectorConstruction::fAluminium</a></div><div class="ttdeci">G4Material * fAluminium</div><div class="ttdoc">Pointer to the aluminium material.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00104">construction.hh:104</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_aacfee0d62aa4c17ff7b1501d71281443"><div class="ttname"><a href="classMyDetectorConstruction.html#aacfee0d62aa4c17ff7b1501d71281443">MyDetectorConstruction::ConstructLightGuide</a></div><div class="ttdeci">void ConstructLightGuide()</div><div class="ttdoc">Auxiliary function called by Construct() for building the lightguides.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cc_source.html#l00293">construction.cc:293</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_aadaefe3a48125cec4408d956822db206"><div class="ttname"><a href="classMyDetectorConstruction.html#aadaefe3a48125cec4408d956822db206">MyDetectorConstruction::ConstructPCB</a></div><div class="ttdeci">void ConstructPCB()</div><div class="ttdoc">Auxiliary function called by Construct() for building the PCBs.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cc_source.html#l00353">construction.cc:353</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_ab2d58931823c4ed0c4d1b157efaed4eb"><div class="ttname"><a href="classMyDetectorConstruction.html#ab2d58931823c4ed0c4d1b157efaed4eb">MyDetectorConstruction::logicLightGuide</a></div><div class="ttdeci">G4LogicalVolume * logicLightGuide</div><div class="ttdoc">Pointer to light guide logical volume.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00094">construction.hh:94</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_abfe848b1d7a8a356084293800e3c1089"><div class="ttname"><a href="classMyDetectorConstruction.html#abfe848b1d7a8a356084293800e3c1089">MyDetectorConstruction::fIsOpticalGreaseSurface</a></div><div class="ttdeci">G4bool fIsOpticalGreaseSurface</div><div class="ttdoc">Flag indicating whether the optical grease surface must be constructed.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00119">construction.hh:119</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_ac083250bf0489c8e9f0a12fadd4601e8"><div class="ttname"><a href="classMyDetectorConstruction.html#ac083250bf0489c8e9f0a12fadd4601e8">MyDetectorConstruction::fSilicon</a></div><div class="ttdeci">G4Material * fSilicon</div><div class="ttdoc">Pointer to the silicon material.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00105">construction.hh:105</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_ac3b90c8a28d996a564b636dc4b6a3ecf"><div class="ttname"><a href="classMyDetectorConstruction.html#ac3b90c8a28d996a564b636dc4b6a3ecf">MyDetectorConstruction::fCarbonFiber</a></div><div class="ttdeci">G4Material * fCarbonFiber</div><div class="ttdoc">Pointer to the carbon fiber material.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00108">construction.hh:108</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_ac7e3c9f91dfc451510c23b31752c5a40"><div class="ttname"><a href="classMyDetectorConstruction.html#ac7e3c9f91dfc451510c23b31752c5a40">MyDetectorConstruction::ConstructSDandField</a></div><div class="ttdeci">void ConstructSDandField() override</div><div class="ttdoc">It sets all the SiPMs' silicon layers as sensitive detectors.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cc_source.html#l00256">construction.cc:256</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_ac9ef5a036a6ef0c2090cbddd414c8c86"><div class="ttname"><a href="classMyDetectorConstruction.html#ac9ef5a036a6ef0c2090cbddd414c8c86">MyDetectorConstruction::Construct</a></div><div class="ttdeci">G4VPhysicalVolume * Construct() override</div><div class="ttdoc">Construct the detector geometry.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cc_source.html#l00159">construction.cc:159</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_ad674f8d5180381a8f88e11acf6448e45"><div class="ttname"><a href="classMyDetectorConstruction.html#ad674f8d5180381a8f88e11acf6448e45">MyDetectorConstruction::fIsPCB</a></div><div class="ttdeci">G4bool fIsPCB</div><div class="ttdoc">Flag indicating whether the PCBs must be constructed.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00121">construction.hh:121</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_ad8bb986a451802a7e305a7e9b3186025"><div class="ttname"><a href="classMyDetectorConstruction.html#ad8bb986a451802a7e305a7e9b3186025">MyDetectorConstruction::fOpGreaseSurface</a></div><div class="ttdeci">G4OpticalSurface * fOpGreaseSurface</div><div class="ttdoc">Pointer to the optical grease surface.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00114">construction.hh:114</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_ae168c504c3d4a28d503d34c1f4f19fd5"><div class="ttname"><a href="classMyDetectorConstruction.html#ae168c504c3d4a28d503d34c1f4f19fd5">MyDetectorConstruction::fIsGrease</a></div><div class="ttdeci">G4bool fIsGrease</div><div class="ttdoc">Flag indicating whether the optical grease must be constructed.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00118">construction.hh:118</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_af43415f80d1d5630c08698e5df9713ff"><div class="ttname"><a href="classMyDetectorConstruction.html#af43415f80d1d5630c08698e5df9713ff">MyDetectorConstruction::fIsASiPM</a></div><div class="ttdeci">G4bool fIsASiPM</div><div class="ttdoc">Flag indicating whether only one SiPM must be constructed.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8hh_source.html#l00123">construction.hh:123</a></div></div>
<div class="ttc" id="aclassMyDetectorConstruction_html_afeed30b7a91229fc6d6e9c962c3de76e"><div class="ttname"><a href="classMyDetectorConstruction.html#afeed30b7a91229fc6d6e9c962c3de76e">MyDetectorConstruction::DefineMaterials</a></div><div class="ttdeci">void DefineMaterials()</div><div class="ttdoc">Defines all materials.</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cc_source.html#l00025">construction.cc:25</a></div></div>
<div class="ttc" id="aclassMySensitiveDetector_html"><div class="ttname"><a href="classMySensitiveDetector.html">MySensitiveDetector</a></div><div class="ttdoc">Concrete class of G4VSensitiveDetector, representing the detector (i.e. the SiPM).</div><div class="ttdef"><b>Definition:</b> <a href="detector_8hh_source.html#l00026">detector.hh:27</a></div></div>
<div class="ttc" id="aconstruction_8hh_html"><div class="ttname"><a href="construction_8hh.html">construction.hh</a></div><div class="ttdoc">Declaration of the class MyDetectorConstruction.</div></div>
<div class="ttc" id="anamespaceGS_html_a047f9c491c7b79e2a861d2fd82865bb1"><div class="ttname"><a href="namespaceGS.html#a047f9c491c7b79e2a861d2fd82865bb1">GS::zScintillator</a></div><div class="ttdeci">constexpr G4double zScintillator</div><div class="ttdoc">z-position of the scintillator crystal.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00021">globalsettings.hh:21</a></div></div>
<div class="ttc" id="anamespaceGS_html_a0bd29a16a5021b87e8c9587d819525dd"><div class="ttname"><a href="namespaceGS.html#a0bd29a16a5021b87e8c9587d819525dd">GS::halfYsideDetector</a></div><div class="ttdeci">constexpr G4double halfYsideDetector</div><div class="ttdoc">Half the y-side length of the SiPM silicon layer.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00062">globalsettings.hh:62</a></div></div>
<div class="ttc" id="anamespaceGS_html_a130107aee9f9f1bede62531215171c17"><div class="ttname"><a href="namespaceGS.html#a130107aee9f9f1bede62531215171c17">GS::depthHole</a></div><div class="ttdeci">constexpr G4double depthHole</div><div class="ttdoc">Depth of the holes drilled in the light guide.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00037">globalsettings.hh:37</a></div></div>
<div class="ttc" id="anamespaceGS_html_a150b65d3a8442892d042423fedc08045"><div class="ttname"><a href="namespaceGS.html#a150b65d3a8442892d042423fedc08045">GS::halfXsideWindowSiPM</a></div><div class="ttdeci">constexpr G4double halfXsideWindowSiPM</div><div class="ttdoc">Half the x-side length of the SiPM window.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00053">globalsettings.hh:53</a></div></div>
<div class="ttc" id="anamespaceGS_html_a19a46221ae01e73cae7c1218d4e3ae60"><div class="ttname"><a href="namespaceGS.html#a19a46221ae01e73cae7c1218d4e3ae60">GS::zWindowSiPM</a></div><div class="ttdeci">constexpr G4double zWindowSiPM</div><div class="ttdoc">z-position of the SiPM window referring to package center.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00059">globalsettings.hh:59</a></div></div>
<div class="ttc" id="anamespaceGS_html_a1da882a2ea62cd4ba2c813362a8b4007"><div class="ttname"><a href="namespaceGS.html#a1da882a2ea62cd4ba2c813362a8b4007">GS::halfXsidePackageSiPM</a></div><div class="ttdeci">constexpr G4double halfXsidePackageSiPM</div><div class="ttdoc">Half the x-side length of the SiPM package.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00049">globalsettings.hh:49</a></div></div>
<div class="ttc" id="anamespaceGS_html_a1f5d879aa4252e9b902a1a8286f4eb10"><div class="ttname"><a href="namespaceGS.html#a1f5d879aa4252e9b902a1a8286f4eb10">GS::halfheightPCB</a></div><div class="ttdeci">constexpr G4double halfheightPCB</div><div class="ttdoc">Half the height of the PCB.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00074">globalsettings.hh:74</a></div></div>
<div class="ttc" id="anamespaceGS_html_a22cc65aa3bc30889951959ff686a6cbb"><div class="ttname"><a href="namespaceGS.html#a22cc65aa3bc30889951959ff686a6cbb">GS::halfXsideDetector</a></div><div class="ttdeci">constexpr G4double halfXsideDetector</div><div class="ttdoc">Half the x-side length of the SiPM silicon layer.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00061">globalsettings.hh:61</a></div></div>
<div class="ttc" id="anamespaceGS_html_a260879fd7eefc12f60a58265c3368696"><div class="ttname"><a href="namespaceGS.html#a260879fd7eefc12f60a58265c3368696">GS::halfZsideWindowSiPM</a></div><div class="ttdeci">constexpr G4double halfZsideWindowSiPM</div><div class="ttdoc">Half the z-side length of the SiPM window.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00055">globalsettings.hh:55</a></div></div>
<div class="ttc" id="anamespaceGS_html_a26bfdb5cefd5c5be0888f9fb11bde89e"><div class="ttname"><a href="namespaceGS.html#a26bfdb5cefd5c5be0888f9fb11bde89e">GS::zDetector</a></div><div class="ttdeci">constexpr G4double zDetector</div><div class="ttdoc">z-position of the SiPM silicon layer referring to window center.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00067">globalsettings.hh:67</a></div></div>
<div class="ttc" id="anamespaceGS_html_a28f67edd1619ebeafef61e691281b857"><div class="ttname"><a href="namespaceGS.html#a28f67edd1619ebeafef61e691281b857">GS::radiusScintillator</a></div><div class="ttdeci">constexpr G4double radiusScintillator</div><div class="ttdoc">Radius of the scintillator crystal.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00016">globalsettings.hh:16</a></div></div>
<div class="ttc" id="anamespaceGS_html_a30fa446464e83cae21058594d40b3467"><div class="ttname"><a href="namespaceGS.html#a30fa446464e83cae21058594d40b3467">GS::zBackFaceScintillator</a></div><div class="ttdeci">constexpr G4double zBackFaceScintillator</div><div class="ttdoc">z-position of the back face of the scintillator crystal.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00024">globalsettings.hh:24</a></div></div>
<div class="ttc" id="anamespaceGS_html_a3814764804eb2e6ec40bf866ea4aaf72"><div class="ttname"><a href="namespaceGS.html#a3814764804eb2e6ec40bf866ea4aaf72">GS::halfheightGrease</a></div><div class="ttdeci">constexpr G4double halfheightGrease</div><div class="ttdoc">Half the height of the optical grease layer.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00029">globalsettings.hh:29</a></div></div>
<div class="ttc" id="anamespaceGS_html_a40fe412e300881a4aa760936b6535062"><div class="ttname"><a href="namespaceGS.html#a40fe412e300881a4aa760936b6535062">GS::zFrontFaceScintillator</a></div><div class="ttdeci">constexpr G4double zFrontFaceScintillator</div><div class="ttdoc">z-position of the front face of the scintillator crystal.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00023">globalsettings.hh:23</a></div></div>
<div class="ttc" id="anamespaceGS_html_a41cfcd51f144c729d61529f6def9e45b"><div class="ttname"><a href="namespaceGS.html#a41cfcd51f144c729d61529f6def9e45b">GS::halfZsidePackageSiPM</a></div><div class="ttdeci">constexpr G4double halfZsidePackageSiPM</div><div class="ttdoc">Half the z-side length of the SiPM package.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00051">globalsettings.hh:51</a></div></div>
<div class="ttc" id="anamespaceGS_html_a5480529f323848cc588f9601e592da0b"><div class="ttname"><a href="namespaceGS.html#a5480529f323848cc588f9601e592da0b">GS::halfheightLightGuide</a></div><div class="ttdeci">constexpr G4double halfheightLightGuide</div><div class="ttdoc">Half the height of the light guide.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00035">globalsettings.hh:35</a></div></div>
<div class="ttc" id="anamespaceGS_html_a55206c901ce65ac7347f297d4ae251e4"><div class="ttname"><a href="namespaceGS.html#a55206c901ce65ac7347f297d4ae251e4">GS::xScintillator</a></div><div class="ttdeci">constexpr G4double xScintillator</div><div class="ttdoc">x-position of the scintillator crystal.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00019">globalsettings.hh:19</a></div></div>
<div class="ttc" id="anamespaceGS_html_a55cb0cba4f8e5099100ec8a53d67c7a7"><div class="ttname"><a href="namespaceGS.html#a55cb0cba4f8e5099100ec8a53d67c7a7">GS::yWindowSiPM</a></div><div class="ttdeci">constexpr G4double yWindowSiPM</div><div class="ttdoc">y-position of the SiPM window referring to package center.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00058">globalsettings.hh:58</a></div></div>
<div class="ttc" id="anamespaceGS_html_a5641898f070040e3fdec3b9a1bbdb734"><div class="ttname"><a href="namespaceGS.html#a5641898f070040e3fdec3b9a1bbdb734">GS::radiusLightGuide</a></div><div class="ttdeci">constexpr G4double radiusLightGuide</div><div class="ttdoc">Radius of the light guide.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00034">globalsettings.hh:34</a></div></div>
<div class="ttc" id="anamespaceGS_html_a5fccc5fa1452bdbcaaeb882ea82395f4"><div class="ttname"><a href="namespaceGS.html#a5fccc5fa1452bdbcaaeb882ea82395f4">GS::halfheightScintillator</a></div><div class="ttdeci">constexpr G4double halfheightScintillator</div><div class="ttdoc">Half the height of the scintillator crystal.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00017">globalsettings.hh:17</a></div></div>
<div class="ttc" id="anamespaceGS_html_a6144f30892d4c4f2b82d68818b62b335"><div class="ttname"><a href="namespaceGS.html#a6144f30892d4c4f2b82d68818b62b335">GS::halfYsidePackageSiPM</a></div><div class="ttdeci">constexpr G4double halfYsidePackageSiPM</div><div class="ttdoc">Half the y-side length of the SiPM package.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00050">globalsettings.hh:50</a></div></div>
<div class="ttc" id="anamespaceGS_html_a61a7dabea30a7665d7db6ce239918837"><div class="ttname"><a href="namespaceGS.html#a61a7dabea30a7665d7db6ce239918837">GS::halfYsideWorld</a></div><div class="ttdeci">constexpr G4double halfYsideWorld</div><div class="ttdoc">Half the y-side length of the world volume.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00095">globalsettings.hh:95</a></div></div>
<div class="ttc" id="anamespaceGS_html_a70d8de9946940e89da3cb18ecd121cdd"><div class="ttname"><a href="namespaceGS.html#a70d8de9946940e89da3cb18ecd121cdd">GS::halfYsideWindowSiPM</a></div><div class="ttdeci">constexpr G4double halfYsideWindowSiPM</div><div class="ttdoc">Half the y-side length of the SiPM window.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00054">globalsettings.hh:54</a></div></div>
<div class="ttc" id="anamespaceGS_html_a7285451c7ea2982d0aaea12a5e1691b8"><div class="ttname"><a href="namespaceGS.html#a7285451c7ea2982d0aaea12a5e1691b8">GS::coating_space</a></div><div class="ttdeci">constexpr G4double coating_space</div><div class="ttdoc">Space between the crystal and the coating around it.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00088">globalsettings.hh:88</a></div></div>
<div class="ttc" id="anamespaceGS_html_a730a477eb84c3793f691c271d2f8bba5"><div class="ttname"><a href="namespaceGS.html#a730a477eb84c3793f691c271d2f8bba5">GS::halfheightEndcap</a></div><div class="ttdeci">constexpr G4double halfheightEndcap</div><div class="ttdoc">Half the height of the endcap.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00079">globalsettings.hh:79</a></div></div>
<div class="ttc" id="anamespaceGS_html_a857617f2ad909c6b0645c373c1b96d05"><div class="ttname"><a href="namespaceGS.html#a857617f2ad909c6b0645c373c1b96d05">GS::xWindowSiPM</a></div><div class="ttdeci">constexpr G4double xWindowSiPM</div><div class="ttdoc">x-position of the SiPM window referring to package center.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00057">globalsettings.hh:57</a></div></div>
<div class="ttc" id="anamespaceGS_html_a98342c9418bf91e63f76e8989795f1f8"><div class="ttname"><a href="namespaceGS.html#a98342c9418bf91e63f76e8989795f1f8">GS::xDetector</a></div><div class="ttdeci">constexpr G4double xDetector</div><div class="ttdoc">x-position of the SiPM silicon layer referring to window center.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00065">globalsettings.hh:65</a></div></div>
<div class="ttc" id="anamespaceGS_html_a9f4d84e78520ddfdda62d717ea38f34b"><div class="ttname"><a href="namespaceGS.html#a9f4d84e78520ddfdda62d717ea38f34b">GS::coating_thickness</a></div><div class="ttdeci">constexpr G4double coating_thickness</div><div class="ttdoc">Thickness of the cylindrical coating.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00090">globalsettings.hh:90</a></div></div>
<div class="ttc" id="anamespaceGS_html_aafb3a9ae3043e5d5c0b5d50544174464"><div class="ttname"><a href="namespaceGS.html#aafb3a9ae3043e5d5c0b5d50544174464">GS::nOfSiPMs</a></div><div class="ttdeci">constexpr G4int nOfSiPMs</div><div class="ttdoc">The number of SiPMs on a detector face.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00047">globalsettings.hh:47</a></div></div>
<div class="ttc" id="anamespaceGS_html_ab7cf8b62ed789ab67bac083680d6022a"><div class="ttname"><a href="namespaceGS.html#ab7cf8b62ed789ab67bac083680d6022a">GS::halfZsideWorld</a></div><div class="ttdeci">constexpr G4double halfZsideWorld</div><div class="ttdoc">Half the z-side length of the world volume.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00096">globalsettings.hh:96</a></div></div>
<div class="ttc" id="anamespaceGS_html_ac274408d4ab48ba936420b2638716e15"><div class="ttname"><a href="namespaceGS.html#ac274408d4ab48ba936420b2638716e15">GS::yDetector</a></div><div class="ttdeci">constexpr G4double yDetector</div><div class="ttdoc">y-position of the SiPM silicon layer referring to window center.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00066">globalsettings.hh:66</a></div></div>
<div class="ttc" id="anamespaceGS_html_ac41945293464eaa682f075851d3ab4bc"><div class="ttname"><a href="namespaceGS.html#ac41945293464eaa682f075851d3ab4bc">GS::halfZsideDetector</a></div><div class="ttdeci">constexpr G4double halfZsideDetector</div><div class="ttdoc">Half the z-side length of the SiPM silicon layer.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00063">globalsettings.hh:63</a></div></div>
<div class="ttc" id="anamespaceGS_html_ac9c343efcb0e19f9d7ecf23ce6ad246a"><div class="ttname"><a href="namespaceGS.html#ac9c343efcb0e19f9d7ecf23ce6ad246a">GS::radiusPCB</a></div><div class="ttdeci">constexpr G4double radiusPCB</div><div class="ttdoc">Radius of the Printed Circuit Board (PCB).</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00073">globalsettings.hh:73</a></div></div>
<div class="ttc" id="anamespaceGS_html_ae2d7aec90d69b87b08205c373e189fd7"><div class="ttname"><a href="namespaceGS.html#ae2d7aec90d69b87b08205c373e189fd7">GS::halfXsideWorld</a></div><div class="ttdeci">constexpr G4double halfXsideWorld</div><div class="ttdoc">Half the x-side length of the world volume.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00094">globalsettings.hh:94</a></div></div>
<div class="ttc" id="anamespaceGS_html_ae83297314b27aca2b6e6d07c55d645b3"><div class="ttname"><a href="namespaceGS.html#ae83297314b27aca2b6e6d07c55d645b3">GS::yScintillator</a></div><div class="ttdeci">constexpr G4double yScintillator</div><div class="ttdoc">y-position of the scintillator crystal.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00020">globalsettings.hh:20</a></div></div>
<div class="ttc" id="anamespaceGS_html_ae83bc455ac594cbdc5f2a703c9472ab1"><div class="ttname"><a href="namespaceGS.html#ae83bc455ac594cbdc5f2a703c9472ab1">GS::radiusHole</a></div><div class="ttdeci">constexpr G4double radiusHole</div><div class="ttdoc">Radius of the holes drilled in the light guide.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00036">globalsettings.hh:36</a></div></div>
<div class="ttc" id="anamespaceGS_html_af8319f13858e30bb70a523f2abdf2fad"><div class="ttname"><a href="namespaceGS.html#af8319f13858e30bb70a523f2abdf2fad">GS::radiusEndcap</a></div><div class="ttdeci">constexpr G4double radiusEndcap</div><div class="ttdoc">Radius of the endcap.</div><div class="ttdef"><b>Definition:</b> <a href="globalsettings_8hh_source.html#l00078">globalsettings.hh:78</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
